<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>wiki_note | 居云岫</title><meta name="author" content="liyazzi"><meta name="copyright" content="liyazzi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="0、Git 使用中的&quot;坑点&quot;  0.0第一次推送报错 在gitee创建远程仓库后，并且自动创建了README.md文件后，在本地提交文件时,会报如下错误 1error: failed to push some refs to ‘https:&#x2F;&#x2F;gitee.com&#x2F; 原因：本地文件目录中没有远程仓库初始化时的README.md文件，导致推送出错 解决办法：将README.md文">
<meta property="og:type" content="article">
<meta property="og:title" content="wiki_note">
<meta property="og:url" content="https://langyu.world/2022/06/12/spring_boot/wiki_note/index.html">
<meta property="og:site_name" content="居云岫">
<meta property="og:description" content="0、Git 使用中的&quot;坑点&quot;  0.0第一次推送报错 在gitee创建远程仓库后，并且自动创建了README.md文件后，在本地提交文件时,会报如下错误 1error: failed to push some refs to ‘https:&#x2F;&#x2F;gitee.com&#x2F; 原因：本地文件目录中没有远程仓库初始化时的README.md文件，导致推送出错 解决办法：将README.md文">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/06/19/xMLl9ZvGFkr8yhQ.jpg">
<meta property="article:published_time" content="2022-06-12T14:07:53.000Z">
<meta property="article:modified_time" content="2025-01-16T05:09:25.869Z">
<meta property="article:author" content="liyazzi">
<meta property="article:tag" content="learn">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2022/06/19/xMLl9ZvGFkr8yhQ.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://langyu.world/2022/06/12/spring_boot/wiki_note/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: liyazzi","link":"链接: ","source":"来源: 居云岫","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'wiki_note',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-01-16 13:09:25'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/self/font.css"><link rel="stylesheet" href="/self/my.css"><link rel="stylesheet" href="/self/universe.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/self/liyazzi.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2022/06/19/xMLl9ZvGFkr8yhQ.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="居云岫"><span class="site-name">居云岫</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">wiki_note</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2022-06-12T14:07:53.000Z" title="发表于 2022-06-12 22:07:53">2022-06-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/spring-boot/">spring_boot</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span id="" data-flag-title="wiki_note"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2022/06/12/spring_boot/wiki_note/#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="0-git-使用中的坑点"><a class="markdownIt-Anchor" href="#0-git-使用中的坑点"></a> 0、Git 使用中的&quot;坑点&quot;</h1>
<h2 id="00第一次推送报错"><a class="markdownIt-Anchor" href="#00第一次推送报错"></a> 0.0第一次推送报错</h2>
<p><strong>在gitee创建远程仓库后，并且自动创建了README.md文件后，在本地提交文件时,会报如下错误</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">error: failed to push some refs to ‘https://gitee.com/<br></code></pre></td></tr></table></figure>
<p><strong>原因：本地文件目录中没有远程仓库初始化时的README.md文件，导致推送出错</strong></p>
<p><strong>解决办法：将README.md文件拉取到本地</strong></p>
<p>:<code>git pull --rebase origin master</code></p>
<h1 id="1-一些文件配置"><a class="markdownIt-Anchor" href="#1-一些文件配置"></a> 1、一些文件配置</h1>
<h2 id="10"><a class="markdownIt-Anchor" href="#10"></a> 1.0</h2>
<p><strong>返回类</strong></p>
<p>** <a href="....%5CSSM%5CSpring%5CSSM_%5Csrc%5Cmain%5Cjava%5Ccom%5Cjyx%5Cpojo%5CCode.java">Code.java</a> **</p>
<p><a href="....%5CSSM%5CSpring%5CSSM_%5Csrc%5Cmain%5Cjava%5Ccom%5Cjyx%5Cpojo%5CResult.java">Result.java</a></p>
<h2 id="11-loback-springxml-文件配置"><a class="markdownIt-Anchor" href="#11-loback-springxml-文件配置"></a> 1.1 loback-spring.xml 文件配置</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 修改一下路径--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;PATH&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;./log&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;STDOUT&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br><span class="hljs-comment">&lt;!--            &lt;Pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %highlight(%-5level) %blue(%-50logger&#123;50&#125;:%-4line) %thread %green(%-18X&#123;LOG_ID&#125;) %msg%n&lt;/Pattern&gt;--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %highlight(%-5level) %blue(%-30logger&#123;30&#125;:%-4line) %thread %green(%-18X&#123;LOG_ID&#125;) %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">Pattern</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;TRACE_FILE&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$&#123;PATH&#125;/trace.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">FileNamePattern</span>&gt;</span>$&#123;PATH&#125;/trace.%d&#123;yyyy-MM-dd&#125;.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">FileNamePattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>10MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">layout</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %-5level %-50logger&#123;50&#125;:%-4line %green(%-18X&#123;LOG_ID&#125;) %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">layout</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ERROR_FILE&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$&#123;PATH&#125;/error.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">FileNamePattern</span>&gt;</span>$&#123;PATH&#125;/error.%d&#123;yyyy-MM-dd&#125;.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">FileNamePattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>10MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">layout</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %-5level %-50logger&#123;50&#125;:%-4line %green(%-18X&#123;LOG_ID&#125;) %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">layout</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>ERROR<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;ERROR&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;ERROR_FILE&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;TRACE&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;TRACE_FILE&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;INFO&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;STDOUT&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure>
<ul>
<li>
<p><strong>配置文件的存放目录:/resources/</strong></p>
</li>
<li>
<p>在启动类添加代码</p>
</li>
<li>
<p>可以在控制台打印出首页地址</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Logger LOG = LoggerFactory.getLogger(DemoApplication<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;
   SpringApplication app = <span class="hljs-keyword">new</span> SpringApplication(DemoApplication<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;
   Environment env = app.run(args).getEnvironment();
   LOG.info(<span class="hljs-string">"启动成功！"</span>);
   LOG.info(<span class="hljs-string">"地址:\t http://192.168.4.179:&#123;&#125;"</span>,env.getProperty(<span class="hljs-string">"server.port"</span>));
&lt;!--code￼<span class="hljs-number">2</span>--&gt;

</code></pre>
</li>
</ul>
<h1 id="3-springboot整合mybatis"><a class="markdownIt-Anchor" href="#3-springboot整合mybatis"></a> 3、SpringBoot整合Mybatis</h1>
<h2 id="30导入依赖与配置文件"><a class="markdownIt-Anchor" href="#30导入依赖与配置文件"></a> 3.0导入依赖与配置文件</h2>
<ul>
<li>
<p>导入依赖</p>
</li>
<li>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"><br>- 在application.yaml中配置datasource<br><br>- <br><br>- ```yaml<br>  spring:<br>    datasource:<br>      driver-class-name: com.mysql.cj.jdbc.Driver<br>      url: jdbc:mysql://localhost:3306/demo?useUnicode=true&amp;auseSSL=false&amp;characterEncoding=UTF-8&amp;serverTimezone=GMT%2B8<br>      password: Jyx1314.+<br>      username: root<br>  mybatis:<br>    mapper-locations: classpath:mapper/**/*.xml<br></code></pre></td></tr></table></figure></span>

</code></pre>
</li>
</ul>
<p><strong>要注意的点</strong></p>
<ul>
<li><strong>此后配置的xxxMapper.xml文件一定要放在resources目录下，若放在mapper包下则无法静态资源导出！！！</strong></li>
</ul>
<h2 id="31-配置generato"><a class="markdownIt-Anchor" href="#31-配置generato"></a> 3.1 配置generato</h2>
<ul>
<li>
<p>导入依赖</p>
</li>
<li>
<pre class="highlight"><code class="java">&lt;plugin&gt;
   &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
   &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;
   &lt;version&gt;<span class="hljs-number">1.3</span><span class="hljs-number">.7</span>&lt;/version&gt;
   &lt;configuration&gt;
      &lt;configurationFile&gt;src/main/resources/generator/generator-config.xml&lt;/configurationFile&gt;
      &lt;overwrite&gt;<span class="hljs-keyword">true</span>&lt;/overwrite&gt;
      &lt;verbose&gt;<span class="hljs-keyword">true</span>&lt;/verbose&gt;
   &lt;/configuration&gt;
   &lt;dependencies&gt;
      &lt;dependency&gt;
         &lt;groupId&gt;mysql&lt;/groupId&gt;
         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
         &lt;version&gt;<span class="hljs-number">8.0</span><span class="hljs-number">.22</span>&lt;/version&gt;
      &lt;/dependency&gt;
   &lt;/dependencies&gt;
&lt;/plugin&gt;
&lt;!--code￼<span class="hljs-number">4</span>--&gt;

</code></pre>
</li>
</ul>
<h1 id="4-springboot-写接口"><a class="markdownIt-Anchor" href="#4-springboot-写接口"></a> 4、SpringBoot 写接口</h1>
<h2 id="40-设置统一返回类-result"><a class="markdownIt-Anchor" href="#40-设置统一返回类-result"></a> 4.0 设置统一返回类 (Result)</h2>
<ul>
<li>
<pre class="highlight"><code class="java"><span class="hljs-keyword">package</span> com.jyx.Utils;

<span class="hljs-comment">/**
 * 同意返回结果类(泛型类)
 *
 * <span class="hljs-doctag">@param</span> &lt;T&gt;
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Result</span>&lt;<span class="hljs-title">T</span>&gt; </span>&#123;


    <span class="hljs-comment">//参数：message，code，还有一个泛型的date</span>
    <span class="hljs-keyword">private</span> String message;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> code;
    <span class="hljs-keyword">private</span> T data;

    <span class="hljs-comment">//有参构造器</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Result</span><span class="hljs-params">(String message, <span class="hljs-keyword">int</span> code, T date)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.message = message;
        <span class="hljs-keyword">this</span>.code = code;
        <span class="hljs-keyword">this</span>.data =date;
    &#125;

    <span class="hljs-comment">//无参构造器</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Result</span><span class="hljs-params">()</span> </span>&#123;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Result</span><span class="hljs-params">(String message, <span class="hljs-keyword">int</span> code)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.message = message;
        <span class="hljs-keyword">this</span>.code = code;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMessage</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> message;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMessage</span><span class="hljs-params">(String message)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.message = message;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getCode</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> code;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> code)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.code = code;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">getData</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> data;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setData</span><span class="hljs-params">(T data)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.data = data;
    &#125;


    <span class="hljs-comment">//静态成功返回方法，返回的是一个统一返回类对象，包含date，message，code</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>  &lt;T&gt; <span class="hljs-function">Result&lt;T&gt; <span class="hljs-title">success</span> <span class="hljs-params">(T Date, String message)</span></span>&#123;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Result&lt;T&gt;(message, Code.SUCCESS.getValue(),Date);
    &#125;

    <span class="hljs-comment">//静态失败返回方法，返回对象中只包含message和code</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-function">Result&lt;T&gt; <span class="hljs-title">error</span><span class="hljs-params">(String message)</span></span>&#123;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Result&lt;T&gt;(message, Code.ERROR.getValue());
    &#125;

    <span class="hljs-comment">//重写to_string 方法，用于展示结果</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span><span class="hljs-string">'&#123;'</span> +
                <span class="hljs-string">"message="</span> + message + <span class="hljs-string">'\n'</span> +
                <span class="hljs-string">"code="</span> + code +<span class="hljs-string">'\n'</span>+
                <span class="hljs-string">"date="</span>+<span class="hljs-string">'\n'</span> + data.toString() +
                <span class="hljs-string">'&#125;'</span>;
    &#125;

&#125;
&lt;!--code￼<span class="hljs-number">5</span>--&gt;

</code></pre>
</li>
<li>
<p><strong>注意：在使用了generator插件后，Mapper层不需要我们自己写了，相应地，当我们在Service层调用的Mapper的方法也会有所改变，其方法参数大多就是一pojoExample实例</strong></p>
</li>
</ul>
<h2 id="43-统一响应类"><a class="markdownIt-Anchor" href="#43-统一响应类"></a> 4.3 统一响应类</h2>
<ul>
<li>创建Resq包</li>
<li>下面放的是pojoResq类</li>
<li>进而Service层需要改动</li>
<li>方法参数变为PojoResq</li>
<li>在通过Mapper得到初始返回数据后，</li>
<li>利用BeanUtils的copy方法给pojoResq类赋值，最后Result类返回最终结果</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Result&lt;List&lt;EbookResp&gt;&gt;list(EbookRequestParams ebookRequestParams) &#123;<br>    <span class="hljs-type">EbookExample</span> <span class="hljs-variable">ebookExample</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">EbookExample</span>();<br>    EbookExample.<span class="hljs-type">Criteria</span> <span class="hljs-variable">criteria</span> <span class="hljs-operator">=</span> ebookExample.createCriteria();<br>    criteria.andNameLike(<span class="hljs-string">&quot;%&quot;</span>+ebookRequestParams.getName()+<span class="hljs-string">&quot;%&quot;</span>);<br>    criteria.andIdEqualTo(ebookRequestParams.getId());<br>    List&lt;Ebook&gt; ebookList = ebookMapper.selectByExample(ebookExample);<br>    List&lt;EbookResp&gt; list  = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    ebookList.forEach(ebook -&gt; &#123;<br>        <span class="hljs-type">EbookResp</span> <span class="hljs-variable">ebookResp</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">EbookResp</span>();<br>        BeanUtils.copyProperties(ebook,ebookResp);<br>        list.add(ebookResp);<br>    &#125;);<br>    <span class="hljs-keyword">return</span> Result.success(list,<span class="hljs-string">&quot;ok&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="44-copy工具类"><a class="markdownIt-Anchor" href="#44-copy工具类"></a> 4.4 copy工具类</h2>
<ul>
<li>
<p>泛型与反射知识</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-keyword">package</span> com.jyx.Utils;

<span class="hljs-keyword">import</span> org.springframework.beans.BeanUtils;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;


<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CopyUtil</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-function">T <span class="hljs-title">copy</span><span class="hljs-params">(Object source ,Class&lt;T&gt; target)</span></span>&#123;
        <span class="hljs-keyword">if</span>(source==<span class="hljs-keyword">null</span>)&#123;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
        &#125;
        T obj = <span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">try</span> &#123;
            obj = target.newInstance();
            BeanUtils.copyProperties(source,obj);
        &#125; <span class="hljs-keyword">catch</span> (InstantiationException | IllegalAccessException e) &#123;
            e.printStackTrace();
        &#125;
        <span class="hljs-keyword">return</span> obj;
    &#125;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T,E&gt; <span class="hljs-function">List&lt;T&gt;  <span class="hljs-title">copyList</span><span class="hljs-params">(List&lt;E&gt; source,Class&lt;T&gt; target)</span></span>&#123;
        List&lt;T&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        <span class="hljs-keyword">if</span>(!source.isEmpty()) &#123;
            source.forEach(obj -&gt; &#123;
                T temp = copy(obj, target);
                list.add(temp);
            &#125;);
        &#125;
        <span class="hljs-keyword">return</span> list;
    &#125;
&#125;
&lt;!--code￼<span class="hljs-number">7</span>--&gt;



</code></pre>
</li>
</ul>
<h2 id="51-集成antdesign-vue"><a class="markdownIt-Anchor" href="#51-集成antdesign-vue"></a> 5.1 集成Ant—Design-vue</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> Antd from <span class="hljs-string">&quot;ant-design-vue&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;ant-design-vue/dist/antd.css&#x27;</span><br>createApp(App).use(store).use(router).use(Antd).mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure>
<h2 id="52自定义组件"><a class="markdownIt-Anchor" href="#52自定义组件"></a> 5.2自定义组件</h2>
<ul>
<li>
<p>组件</p>
</li>
<li>
<pre class="highlight"><code class="java">&lt;template&gt;
  &lt;a-layout-footer style=<span class="hljs-string">"text-align: center"</span>&gt;
    Ant Design ©<span class="hljs-number">2018</span> Created by Ant UED
  &lt;/a-layout-footer&gt;
&lt;/template&gt;

&lt;script lang=<span class="hljs-string">"ts"</span>&gt;
<span class="hljs-keyword">import</span> &#123; defineComponent &#125; from <span class="hljs-string">'vue'</span>;

<span class="hljs-function">export <span class="hljs-keyword">default</span> <span class="hljs-title">defineComponent</span><span class="hljs-params">(&#123;
  name: <span class="hljs-string">'TheFooter'</span>,
  props: &#123;
    msg: String,
  &#125;,
&#125;)</span></span>;
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;
&lt;!--code￼<span class="hljs-number">9</span>--&gt;

</code></pre>
</li>
</ul>
<h1 id="6-前后端交互整合"><a class="markdownIt-Anchor" href="#6-前后端交互整合"></a> 6、前后端交互整合</h1>
<h2 id="60-集成http库axios"><a class="markdownIt-Anchor" href="#60-集成http库axios"></a> 6.0 集成HTTP库Axios</h2>
<p><strong>使用npm安装,在vue项目路径下</strong></p>
<p><code>npm install axios@0.21.0 --save</code></p>
<h2 id="61电子书前后端接口"><a class="markdownIt-Anchor" href="#61电子书前后端接口"></a> 6.1电子书前后端接口</h2>
<h3 id="跨域问题的解决"><a class="markdownIt-Anchor" href="#跨域问题的解决"></a> 跨域问题的解决</h3>
<ul>
<li>
<p>在Config包下新建CrosConfig类</p>
</li>
<li>
<p>记得添加@Cinfiguration</p>
</li>
<li>
<p>去实现WebMvcConfigurer</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addCorsMappings</span><span class="hljs-params">(CorsRegistry registry)</span> </span>&#123;
    registry.addMapping(<span class="hljs-string">"/**"</span>)
            .allowedOriginPatterns(<span class="hljs-string">"*"</span>)
            .allowedHeaders(CorsConfiguration.ALL)
            .allowedMethods(CorsConfiguration.ALL)
            .allowCredentials(<span class="hljs-keyword">true</span>)
     
&lt;!--code￼<span class="hljs-number">10</span>--&gt;

</code></pre>
</li>
</ul>
<h2 id="64-查询电子书并且在页面展示"><a class="markdownIt-Anchor" href="#64-查询电子书并且在页面展示"></a> 6.4 查询电子书并且在页面展示</h2>
<p><strong>技术点</strong></p>
<h3 id="一-使用ref返回单个相应变量数据"><a class="markdownIt-Anchor" href="#一-使用ref返回单个相应变量数据"></a> 一、<strong>使用ref返回单个相应变量数据</strong></h3>
<p><strong>该方法的特点是：你给我什么我就拿到什么，也就是你要提前把这个数据封装成想要的结构</strong></p>
<ul>
<li>ref响应式数据类型</li>
<li>导入 ref包</li>
<li>在setup中声明 const ebooks = ref()</li>
<li>在onMounted 中</li>
<li>ebooks.value = data.data</li>
<li>在setup方法结尾处返回ebooks <strong>此时，要注意！！！！！！！</strong></li>
<li><strong>返回数据的写法为：</strong><code>return&#123;ebooks&#125;</code></li>
<li><strong>并且再次注意！！</strong></li>
<li>页面拿到数据的方式为：<code>&#123;&#123;ebooks&#125;&#125;</code></li>
<li>可以用<code>&lt;pre&gt;&lt;/pre&gt;</code>标签美化</li>
</ul>
<h3 id="二-使用reactive"><a class="markdownIt-Anchor" href="#二-使用reactive"></a> 二、使用reactive()</h3>
<p><strong>该方法的特点是，()里面要设置参数，并且这个参数应该是Json类型的，好处是在声明变量的时候就确定了所要传输数据的结构，value也可以是个对象（比如也是一个Json）！！即:<code>&#123;key0: value,key1:value....&#125;</code>  value 写成 <code>[]</code>，就表明这是一个数组</strong></p>
<ul>
<li>导入<code>reactive</code></li>
<li>在setup中声明变量 `const ebook = reactive({…})</li>
</ul>
<h3 id="三-代码"><a class="markdownIt-Anchor" href="#三-代码"></a> 三、代码</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java">setup()&#123;<br>  console.log(<span class="hljs-string">&#x27;setup&#x27;</span>);<br>  <span class="hljs-type">const</span> <span class="hljs-variable">ebooks</span> <span class="hljs-operator">=</span> ref();<br>  <span class="hljs-type">const</span> <span class="hljs-variable">ebook</span> <span class="hljs-operator">=</span> reactive(&#123;book :[],code: <span class="hljs-string">&quot;&quot;</span>,msg:<span class="hljs-string">&quot;&quot;</span>&#125;)<br><br>  onMounted(()=&gt;&#123;<br>    console.log(<span class="hljs-string">&quot;onMounted&quot;</span>);<br>    axios.get(<span class="hljs-string">&#x27;http://localhost:8081/Test1?name=教程&#x27;</span>).then((response)=&gt;&#123;<br>      <span class="hljs-type">const</span>  <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> response.data;<br>      console.log(data);<br>      ebooks.value = data.data;<br>      ebook.book = data.data;<br>      ebook.msg = data.message;<br>      ebook.code = data.code;<br>    &#125;);<br>  &#125;)<br>  <span class="hljs-keyword">return</span>&#123;<br>    ebooks,<br>    ebook<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="65-导入图标库"><a class="markdownIt-Anchor" href="#65-导入图标库"></a> 6.5 导入图标库</h2>
<ul>
<li>
<p><strong>`npm install @ant-design/icons -vue --save</strong></p>
</li>
<li>
<p>在main.ts中写入</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-keyword">import</span> * as Icons from <span class="hljs-string">'@ant-design/icons-vue'</span>;

<span class="hljs-keyword">const</span> incos : ant = Icons;
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">const</span> i in incos)&#123;
    App.compoent(i,incos[i]);
&#125;
&lt;!--code￼<span class="hljs-number">12</span>--&gt;

</code></pre>
</li>
</ul>
<p>如果传进来值就按照传的值处理，要是没穿，则就是查询所有字段</p>
<h2 id="68-vue_cle多环境配置"><a class="markdownIt-Anchor" href="#68-vue_cle多环境配置"></a> 6.8 Vue_Cle多环境配置</h2>
<ul>
<li>
<p>在web目录下建立</p>
</li>
<li>
<p>.env.dev.txt</p>
</li>
<li>
<pre class="highlight"><code class="xml">NODE_ENV=development
VUE_APP_SERVER=http://192.168.110.179:8081
<span class="hljs-comment"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"><br>- .env.prod.txt<br><br>- ```xml<br>  NODE_ENV=production<br>  VUE_APP_SERVER=http://jyx...<br></code></pre></td></tr></table></figure></span>

</code></pre>
</li>
<li>
<p>更改package.json 中的server名字</p>
</li>
<li>
<p>在main.js中配置全局变量</p>
</li>
<li>
<p><code>axios.defaults.baseURL = process.env.VUE_APP_SERVER</code></p>
</li>
</ul>
<h2 id="69-axios拦截器打印日志"><a class="markdownIt-Anchor" href="#69-axios拦截器打印日志"></a> 6.9 axios拦截器打印日志</h2>
<p><strong>在main.ts中加入</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">axios.interceptors.request.use((config)=&gt;&#123;<br>    console.log(&#x27;请求参数：&#x27;,config);<br>    return config;<br>&#125;, error =&gt; &#123;<br>    return Promise.reject(error);<br>&#125;);<br>axios.interceptors.response.use((response)=&gt;&#123;<br>    console.log(&#x27;返回结果&#x27;,response);<br>    return response;<br>&#125;, error =&gt; &#123;<br>    return Promise.reject(error);<br>&#125;)<br><br>const app =  createApp(App);<br>app.use(store).use(router).use(Antd).mount(&#x27;#app&#x27;);<br>const icons : any = Icons;<br>for(const i in icons)&#123;<br>    app.component(i,icons[i]);<br>&#125;<br>console.log(process.env.NODE_ENV);<br>console.log(process.env.VUE_APP_SERVER);<br></code></pre></td></tr></table></figure>
<h2 id="610-servlet-的filter-检测接口耗时"><a class="markdownIt-Anchor" href="#610-servlet-的filter-检测接口耗时"></a> 6.10 Servlet 的Filter 检测接口耗时</h2>
<ul>
<li>
<p>新建filter包</p>
</li>
<li>
<p>新建LogFilter类</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-keyword">package</span> com.jyx.filter;


<span class="hljs-keyword">import</span> com.mysql.cj.log.Log;
<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.ComponentScan;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword">import</span> javax.servlet.*;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LogFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span> </span>&#123;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Logger LOG =  LoggerFactory.getLogger(LogFilter<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException </span>&#123;
    &#125;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException </span>&#123;
        <span class="hljs-comment">//打印请求信息</span>
        HttpServletRequest request1 = (HttpServletRequest) request;
        LOG.info(<span class="hljs-string">"----------LogFilter开始-----------"</span>);
        LOG.info(<span class="hljs-string">"请求地址:&#123;&#125; &#123;&#125;"</span>,request1.getRequestURL().toString(),request1.getMethod());
        LOG.info(<span class="hljs-string">"请求远程地址:&#123;&#125;"</span>,request1.getRemoteAddr());

        <span class="hljs-keyword">long</span> startTime = System.currentTimeMillis();
        chain.doFilter(request,response);
        LOG.info(<span class="hljs-string">"------LogFilter结束：耗时&#123;&#125;ms"</span>,System.currentTimeMillis()-startTime);
    &#125;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span> </span>&#123;
        Filter.<span class="hljs-keyword">super</span>.destroy();
    &#125;
&#125;
&lt;!--code￼<span class="hljs-number">15</span>--&gt;

</code></pre>
</li>
</ul>
<h2 id="71-使用spring-特有的-拦截器-interceptor-第二开始"><a class="markdownIt-Anchor" href="#71-使用spring-特有的-拦截器-interceptor-第二开始"></a> 7.1 使用Spring 特有的 拦截器 interceptor  第二开始</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jyx.interceptor;<br><br><span class="hljs-keyword">import</span> org.slf4j.Logger;<br><span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 拦截器：Spring框架特有的，常用于登录校验，权限校验，请求日志打印 /login</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">LOG</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(LogInterceptor.class);<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">// 打印请求信息</span><br>        LOG.info(<span class="hljs-string">&quot;------------- LogInterceptor 开始 -------------&quot;</span>);<br>        LOG.info(<span class="hljs-string">&quot;请求地址: &#123;&#125; &#123;&#125;&quot;</span>, request.getRequestURL().toString(), request.getMethod());<br>        LOG.info(<span class="hljs-string">&quot;远程地址: &#123;&#125;&quot;</span>, request.getRemoteAddr());<br><br>        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        request.setAttribute(<span class="hljs-string">&quot;requestStartTime&quot;</span>, startTime);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> (Long) request.getAttribute(<span class="hljs-string">&quot;requestStartTime&quot;</span>);<br>        LOG.info(<span class="hljs-string">&quot;------------- LogInterceptor 结束 耗时：&#123;&#125; ms -------------&quot;</span>, System.currentTimeMillis() - startTime);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="72-aop"><a class="markdownIt-Anchor" href="#72-aop"></a> 7.2 AOP  。。。。</h2>
<h2 id="73-打印sql日志"><a class="markdownIt-Anchor" href="#73-打印sql日志"></a> 7.3 打印sql日志</h2>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">logging:</span><br>  <span class="hljs-attr">level:</span><br>    <span class="hljs-attr">com.jyx.mapper:</span> <span class="hljs-string">trace</span><br></code></pre></td></tr></table></figure>
<h1 id="8-管理员页面"><a class="markdownIt-Anchor" href="#8-管理员页面"></a> 8、管理员页面</h1>
<h2 id="80-初始化"><a class="markdownIt-Anchor" href="#80-初始化"></a> 8.0 初始化</h2>
<ul>
<li>
<p><strong>添加一个页面后第一件事：添加路由</strong></p>
</li>
<li>
<pre class="highlight"><code class="java">,
&#123;
  path: <span class="hljs-string">'/admin/ebooks'</span>,
  name: <span class="hljs-string">'ebookAdmin'</span>,
  <span class="hljs-comment">// route level code-splitting</span>
  <span class="hljs-comment">// this generates a separate chunk (about.[hash].js) for this route</span>
  <span class="hljs-comment">// which is lazy-loaded when the route is visited.</span>
  component: ebooksAdmin
&#125;
&lt;!--code￼<span class="hljs-number">18</span>--&gt;

</code></pre>
</li>
</ul>
<h2 id="81-普通日志"><a class="markdownIt-Anchor" href="#81-普通日志"></a> 8.1 普通日志</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">LOG</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(EbookService.class);<br></code></pre></td></tr></table></figure>
<h2 id="82pagehelper的使用"><a class="markdownIt-Anchor" href="#82pagehelper的使用"></a> 8.2PageHelper的使用</h2>
<ul>
<li>
<p>添加依赖</p>
</li>
<li>
<pre class="highlight"><code class="java">&lt;dependency&gt;
   &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
   &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;
   &lt;version&gt;<span class="hljs-number">1.4</span><span class="hljs-number">.2</span>&lt;/version&gt;
&lt;/dependency&gt;
&lt;!--code￼<span class="hljs-number">20</span>--&gt;

</code></pre>
</li>
</ul>
<p><strong>其中，title为显示的字段名，dataIndex为a-table中datasource中每一个Json类型数据中的key值，要对应起来，否则每一列下的value不能正确显示</strong></p>
<h3 id="2-编辑按钮"><a class="markdownIt-Anchor" href="#2-编辑按钮"></a> 2、编辑按钮</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;a-button type=<span class="hljs-string">&quot;primary&quot;</span> <span class="hljs-meta">@click</span>=<span class="hljs-string">&quot;edit(record)&quot;</span>&gt;<br>  编辑<br>&lt;/a-button&gt;<br></code></pre></td></tr></table></figure>
<h3 id="3-点击编辑按钮出现的表单"><a class="markdownIt-Anchor" href="#3-点击编辑按钮出现的表单"></a> 3、点击编辑按钮出现的表单</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;!-- 在编辑页面展示的电子书表单  --&gt;<br>    &lt;a-form :model=<span class="hljs-string">&quot;ebook&quot;</span> :label-col=<span class="hljs-string">&quot;&#123; span: 6 &#125;&quot;</span> :wrapper-col=<span class="hljs-string">&quot;&#123; span: 18 &#125;&quot;</span>&gt;<br>      &lt;a-form-item label=<span class="hljs-string">&quot;封面&quot;</span>&gt;<br>        &lt;a-input v-model:value=<span class="hljs-string">&quot;ebook.cover&quot;</span> /&gt;<br>      &lt;/a-form-item&gt;<br>      &lt;a-form-item label=<span class="hljs-string">&quot;名称&quot;</span>&gt;<br>        &lt;a-input v-model:value=<span class="hljs-string">&quot;ebook.name&quot;</span> /&gt;<br>      &lt;/a-form-item&gt;<br>      &lt;a-form-item label=<span class="hljs-string">&quot;分类1&quot;</span>&gt;<br>        &lt;a-input v-model:value=<span class="hljs-string">&quot;ebook.category1Id&quot;</span> /&gt;<br>      &lt;/a-form-item&gt;<br>      &lt;a-form-item label=<span class="hljs-string">&quot;分类2&quot;</span>&gt;<br>        &lt;a-input v-model:value=<span class="hljs-string">&quot;ebook.category2Id&quot;</span> /&gt;<br>      &lt;/a-form-item&gt;<br>      &lt;a-form-item label=<span class="hljs-string">&quot;描述&quot;</span>&gt;<br>        &lt;a-input v-model:value=<span class="hljs-string">&quot;ebook.description&quot;</span> type=<span class="hljs-string">&quot;textarea&quot;</span> /&gt;<br>      &lt;/a-form-item&gt;<br>    &lt;/a-form&gt;<br><br>  &lt;/a-modal&gt;<br></code></pre></td></tr></table></figure>
<h3 id="4-给予表单数据的"><a class="markdownIt-Anchor" href="#4-给予表单数据的"></a> 4、给予表单数据的</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">const</span> <span class="hljs-variable">ebook</span> <span class="hljs-operator">=</span> ref(&#123;&#125;);<br>    <span class="hljs-type">const</span> <span class="hljs-variable">modalVisible</span> <span class="hljs-operator">=</span> ref(<span class="hljs-literal">false</span>);<br>    <span class="hljs-type">const</span> <span class="hljs-variable">modalLoading</span> <span class="hljs-operator">=</span> ref(<span class="hljs-literal">false</span>);<br></code></pre></td></tr></table></figure>
<h3 id="5-edit主方法"><a class="markdownIt-Anchor" href="#5-edit主方法"></a> 5 edit主方法</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">const</span> <span class="hljs-variable">edit</span> <span class="hljs-operator">=</span>(record:any)=&gt;&#123;<br>  ebook.value = record;<br>  modalVisible.value=<span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="6-点击ok请求更新数据刷新列表"><a class="markdownIt-Anchor" href="#6-点击ok请求更新数据刷新列表"></a> 6、点击ok，请求更新数据，刷新列表</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">const</span> <span class="hljs-variable">handleModalOk</span> <span class="hljs-operator">=</span> () =&gt;&#123;<br>  modalLoading.value = <span class="hljs-literal">true</span>;<br>  axios.post(<span class="hljs-string">&#x27;/ebook/save&#x27;</span>,ebook.value).then((response) =&gt; &#123;<br>    modalLoading.value = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span> (response.data.code==<span class="hljs-number">1</span>)&#123;<br>      modalVisible.value = <span class="hljs-literal">false</span>;<br><br>      <span class="hljs-comment">// 重新加载列表</span><br>      handleQuery(&#123;<br>        page: pagination.value.current,<br>        size: pagination.value.pageSize,<br>      &#125;);<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>      message.error(response.data.message);<br>    &#125;<br>  &#125;)<br>&#125;;<br></code></pre></td></tr></table></figure>
<h3 id="7-保存操作的后端"><a class="markdownIt-Anchor" href="#7-保存操作的后端"></a> 7、保存操作的后端</h3>
<ul>
<li>根据id是否为null来决定是新增还是保存</li>
<li>新增和保存公用一个方法</li>
<li>Controller层 在接收前端传来的表达数据时候</li>
<li>要在参数前加上@ResponseBody注解，来保证接收到</li>
</ul>
<h2 id="84-雪花算法"><a class="markdownIt-Anchor" href="#84-雪花算法"></a> 8.4 雪花算法</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jyx.Utils;<br><br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br><br><span class="hljs-keyword">import</span> java.text.ParseException;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Twitter的分布式自增ID雪花算法</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SnowFlake</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 起始的时间戳</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">START_STMP</span> <span class="hljs-operator">=</span>   <span class="hljs-number">1653580800000L</span>; <span class="hljs-comment">// 2021-01-01 08:00:00   起始时间</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 每一部分占用的位数</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">SEQUENCE_BIT</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>; <span class="hljs-comment">//序列号占用的位数</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">MACHINE_BIT</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;   <span class="hljs-comment">//机器标识占用的位数 2^5=32  最多可以表示32台机器</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">DATACENTER_BIT</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<span class="hljs-comment">//数据中心占用的位数</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 每一部分的最大值</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">MAX_DATACENTER_NUM</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1L</span> ^ (-<span class="hljs-number">1L</span> &lt;&lt; DATACENTER_BIT);<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">MAX_MACHINE_NUM</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1L</span> ^ (-<span class="hljs-number">1L</span> &lt;&lt; MACHINE_BIT);<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">MAX_SEQUENCE</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1L</span> ^ (-<span class="hljs-number">1L</span> &lt;&lt; SEQUENCE_BIT);<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 每一部分向左的位移</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">MACHINE_LEFT</span> <span class="hljs-operator">=</span> SEQUENCE_BIT;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">DATACENTER_LEFT</span> <span class="hljs-operator">=</span> SEQUENCE_BIT + MACHINE_BIT;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-variable">TIMESTMP_LEFT</span> <span class="hljs-operator">=</span> DATACENTER_LEFT + DATACENTER_BIT;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-variable">datacenterId</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;  <span class="hljs-comment">//数据中心</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-variable">machineId</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;     <span class="hljs-comment">//机器标识</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-variable">sequence</span> <span class="hljs-operator">=</span> <span class="hljs-number">0L</span>; <span class="hljs-comment">//序列号</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-variable">lastStmp</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1L</span>;<span class="hljs-comment">//上一次时间戳</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SnowFlake</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SnowFlake</span><span class="hljs-params">(<span class="hljs-type">long</span> datacenterId, <span class="hljs-type">long</span> machineId)</span> &#123;<br>        <span class="hljs-keyword">if</span> (datacenterId &gt; MAX_DATACENTER_NUM || datacenterId &lt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">&quot;datacenterId can&#x27;t be greater than MAX_DATACENTER_NUM or less than 0&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (machineId &gt; MAX_MACHINE_NUM || machineId &lt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">&quot;machineId can&#x27;t be greater than MAX_MACHINE_NUM or less than 0&quot;</span>);<br>        &#125;<br>        <span class="hljs-built_in">this</span>.datacenterId = datacenterId;<br>        <span class="hljs-built_in">this</span>.machineId = machineId;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 产生下一个ID</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">long</span> <span class="hljs-title function_">nextId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">currStmp</span> <span class="hljs-operator">=</span> getNewstmp();<span class="hljs-comment">//这个是跟起始时间戳的一个差值</span><br>        <span class="hljs-keyword">if</span> (currStmp &lt; lastStmp) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;Clock moved backwards.  Refusing to generate id&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (currStmp == lastStmp) &#123;<br>            <span class="hljs-comment">//相同毫秒内，序列号自增</span><br>            sequence = (sequence + <span class="hljs-number">1</span>) &amp; MAX_SEQUENCE;  <span class="hljs-comment">//一个毫秒内，最多可以生成的序列号是 2^SEQUENCE_BIT</span><br>            <span class="hljs-comment">//同一毫秒的序列数已经达到最大</span><br>            <span class="hljs-keyword">if</span> (sequence == <span class="hljs-number">0L</span>) &#123;<br>                currStmp = getNextMill();<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">//不同毫秒内，序列号置为0</span><br>            sequence = <span class="hljs-number">0L</span>;<br>        &#125;<br><br>        lastStmp = currStmp;<br><br>        <span class="hljs-keyword">return</span> (currStmp - START_STMP) &lt;&lt; TIMESTMP_LEFT <span class="hljs-comment">//时间戳部分</span><br>                | datacenterId &lt;&lt; DATACENTER_LEFT       <span class="hljs-comment">//数据中心部分</span><br>                | machineId &lt;&lt; MACHINE_LEFT             <span class="hljs-comment">//机器标识部分</span><br>                | sequence;                             <span class="hljs-comment">//序列号部分</span><br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getNextMill</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">mill</span> <span class="hljs-operator">=</span> getNewstmp();<br>        <span class="hljs-keyword">while</span> (mill &lt;= lastStmp) &#123;<br>            mill = getNewstmp();<br>        &#125;<br>        <span class="hljs-keyword">return</span> mill;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getNewstmp</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> System.currentTimeMillis();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ParseException &#123;<br>        <span class="hljs-comment">// 时间戳</span><br><span class="hljs-comment">//         System.out.println(System.currentTimeMillis());</span><br><span class="hljs-comment">//         System.out.println(new Date().getTime());</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//         String dateTime = &quot;2022-05-27 00:00:00&quot;;</span><br><span class="hljs-comment">//         SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);</span><br><span class="hljs-comment">//         System.out.println(sdf.parse(dateTime).getTime());</span><br><br>        <span class="hljs-type">SnowFlake</span> <span class="hljs-variable">snowFlake</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SnowFlake</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><br>        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(snowFlake.nextId());<span class="hljs-comment">//每次都去生成id</span><br>            System.out.println(System.currentTimeMillis() - start);<span class="hljs-comment">//计算生成所耗费的时间</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="85-删除功能"><a class="markdownIt-Anchor" href="#85-删除功能"></a> 8.5 删除功能</h2>
<ul>
<li>前端</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;a-popconfirm<br>    title=<span class="hljs-string">&quot;Are you sure delete this task?&quot;</span><br>    ok-text=<span class="hljs-string">&quot;Yes&quot;</span><br>    cancel-text=<span class="hljs-string">&quot;No&quot;</span><br>    <span class="hljs-meta">@confirm</span>=<span class="hljs-string">&quot;handleDelete(record.id)&quot;</span><br>&gt;<br>  &lt;a-button type=<span class="hljs-string">&quot;danger&quot;</span>&gt;<br>    删除<br>  &lt;/a-button&gt;<br>&lt;/a-popconfirm&gt;<br></code></pre></td></tr></table></figure>
<h2 id="86-查询功能"><a class="markdownIt-Anchor" href="#86-查询功能"></a> 8.6 查询功能</h2>
<ul>
<li>横向的form表单</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;p&gt;<br>  &lt;a-form layout=<span class="hljs-string">&quot;inline&quot;</span> :model=<span class="hljs-string">&quot;param&quot;</span>&gt;<br>    &lt;a-form-item&gt;<br>      &lt;a-input v-model:value=<span class="hljs-string">&quot;param.name&quot;</span> placeholder=<span class="hljs-string">&quot;名称&quot;</span>&gt;&lt;/a-input&gt;<br>    &lt;/a-form-item&gt;<br>    &lt;a-form-item&gt;<br>      &lt;a-button type=<span class="hljs-string">&quot;primary&quot;</span> <span class="hljs-meta">@click</span>=<span class="hljs-string">&quot;handleQuery(&#123;page: 1, size: pagination.pageSize&#125;)&quot;</span>&gt;<br>        查询<br>      &lt;/a-button&gt;<br>    &lt;/a-form-item&gt;<br>    &lt;a-form-item&gt;<br>      &lt;a-button type=<span class="hljs-string">&quot;primary&quot;</span> <span class="hljs-meta">@click</span>=<span class="hljs-string">&quot;add()&quot;</span>&gt;<br>        新增<br>      &lt;/a-button&gt;<br>    &lt;/a-form-item&gt;<br>  &lt;/a-form&gt;<br>&lt;/p&gt;<br></code></pre></td></tr></table></figure>
<ul>
<li>param为响应式数据变量 其值从input获得</li>
<li>注意此处 并没有在 查询按钮的@Click绑定的函数中直接给到 查询参数name 的值 而是在setup函数中 定义param变量</li>
<li><strong>重点：定义完之后一定要初始化！！！</strong></li>
<li>在查询函数中再去 添加 传给后端的参数</li>
<li>最后要在setup 后 return 回去</li>
</ul>
<h2 id="87-axios异步加载可能出现的问题"><a class="markdownIt-Anchor" href="#87-axios异步加载可能出现的问题"></a> 8.7 axios异步加载可能出现的问题</h2>
<ul>
<li>
<p>如果分类查询在书籍查询之后</p>
</li>
<li>
<p>并且书籍中要用到书籍分类的数据</p>
</li>
<li>
<p>则会报错。  书籍展示–&gt;(依赖于)分类数据</p>
</li>
<li>
<p>应该在axios中将查询内置在分类查询中，</p>
</li>
<li>
<pre class="highlight"><code class="Java"><span class="hljs-comment">/**
 * 查询所有分类
 **/</span>
<span class="hljs-keyword">const</span> handleQueryCategory = () =&gt; &#123;
  loading.value = <span class="hljs-keyword">true</span>;
  axios.get(<span class="hljs-string">"/category/all"</span>).then((response) =&gt; &#123;
    loading.value = <span class="hljs-keyword">false</span>;
    <span class="hljs-keyword">const</span> data = response.data;
    <span class="hljs-keyword">if</span> (data.code==<span class="hljs-number">1</span>) &#123;
      categorys = data.data;
      console.log(<span class="hljs-string">"原始数组："</span>, categorys);

      level1.value = [];
      level1.value = Tool.array2Tree(categorys, <span class="hljs-number">0</span>);
      console.log(<span class="hljs-string">"树形结构："</span>, level1.value);
      <span class="hljs-comment">// 加载完分类，再加载电子书，否则如果分类树加载很慢，则电子书渲染会报错</span>
      <span class="hljs-comment">//因为axios异步加载的原因</span>
      handleQuery(&#123;
        page: <span class="hljs-number">1</span>,
        size: pagination.value.pageSize
      &#125;);

    &#125; <span class="hljs-keyword">else</span> &#123;
      message.error(data.message);
    &#125;
  &#125;);
&#125;;
&lt;!--code￼<span class="hljs-number">29</span>--&gt;

</code></pre>
</li>
</ul>
<p><strong>渲染数据</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;template v-slot:category=<span class="hljs-string">&quot;&#123; text, record &#125;&quot;</span>&gt;<br>  &lt;span&gt;&#123;&#123; queryCategoryName(record.category1Id) &#125;&#125; / &#123;&#123;queryCategoryName(record.category2Id) &#125;&#125;&lt;/span&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">&#123;<br>  title: <span class="hljs-string">&#x27;分类&#x27;</span>,<br><br>  slots: &#123; customRender: <span class="hljs-string">&#x27;category&#x27;</span> &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<h1 id="9-文档管理"><a class="markdownIt-Anchor" href="#9-文档管理"></a> 9、文档管理</h1>
<h2 id="90-vue中的route-link标签中url设置参数"><a class="markdownIt-Anchor" href="#90-vue中的route-link标签中url设置参数"></a> 9.0 vue中的route-link标签中url设置参数</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;router-link :to=<span class="hljs-string">&quot;&#x27;/admin/doc?ebookId=&#x27; + record.id&quot;</span>&gt;<br></code></pre></td></tr></table></figure>
<ul>
<li><code>''</code>中给出的为字符串，以<code>+</code>方式拼接</li>
</ul>
<p>被跳转的页面中 <strong>使用useRoute()拿到参数</strong></p>
<ul>
<li><code>const route = useRoute();</code></li>
<li></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">doc.value = &#123;<br>  ebookId: route.query.ebookId,<br>&#125;;<br></code></pre></td></tr></table></figure>
<h2 id="91-文档内容的保存saveoradd-的逻辑以及copyutils的注意问题不能有构造器"><a class="markdownIt-Anchor" href="#91-文档内容的保存saveoradd-的逻辑以及copyutils的注意问题不能有构造器"></a> 9.1 文档内容的保存(saveOrAdd 的逻辑，以及CopyUtils的注意问题，不能有构造器)</h2>
<h3 id="一-saveoradd-的逻辑"><a class="markdownIt-Anchor" href="#一-saveoradd-的逻辑"></a> 一、<strong>SaveOrAdd</strong> 的逻辑</h3>
<p><strong>主要思路</strong>:1,对新增的文档而言:文档内容（实际是Content表）一定是 Add操作</p>
<p>​				   2，对要Save（即已经创建过的文档）的文档而言，依据：**Content中对应文档ID的content字段是否为空（具体判断的依据是：update的返回值）**分两种情况</p>
<p>I:<strong>update</strong>的返回值若为0，则表示并<strong>无</strong>docId对应的字段，还不存在，update当然返回值为0，此时就应该去<strong>insert</strong></p>
<p>II: <strong>update</strong>的返回值若为1,则与<strong>I</strong>相反，则不需要另外的操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(DocSaveReq req)</span>&#123;<br>    <span class="hljs-type">Doc</span> <span class="hljs-variable">doc</span> <span class="hljs-operator">=</span> CopyUtil.copy(req,Doc.class);<br>    <span class="hljs-type">Content</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> CopyUtil.copy(req,Content.class);<br>    <span class="hljs-keyword">if</span>(ObjectUtils.isEmpty(req.getId()))&#123;<br>        <span class="hljs-comment">//新增</span><br>        doc.setId(snowFlake.nextId());<br>        doc.setViewCount(<span class="hljs-number">0</span>);<br>        doc.setVoteCount(<span class="hljs-number">0</span>);<br>        docMapper.insertSelective(doc);<br><br>        <span class="hljs-comment">//对content insert</span><br>        content.setId(doc.getId());<br>        contentMapper.insertSelective(content);<br>    &#125; <span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-comment">//更新</span><br>        docMapper.updateByPrimaryKey(doc);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> contentMapper.updateByPrimaryKeyWithBLOBs(content);<br>        <span class="hljs-comment">//返回值判断</span><br>        <span class="hljs-keyword">if</span>(count == <span class="hljs-number">0</span>)&#123;<br>            contentMapper.insert(content);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="二-copyutils的注意问题"><a class="markdownIt-Anchor" href="#二-copyutils的注意问题"></a> 二、CopyUtils的注意问题</h3>
<p><code>Doc doc = CopyUtil.copy(req,Doc.class);</code></p>
<p>如果req中有了全字段的构造器，这个时候手动地去再添加一个无参构造器，则报错，则会Copy失败。。。。</p>
<h2 id="92-阅读数加一点赞"><a class="markdownIt-Anchor" href="#92-阅读数加一点赞"></a> 9.2 阅读数加一&amp;点赞</h2>
<p><strong>注意的问题</strong></p>
<ol>
<li>尽管数据库中设置了view和vote的字段默认值为<strong>0</strong>,但如果是在insert的时候选择了这两个字段，则新增的一条数据的</li>
<li>解决办法：</li>
</ol>
<p><strong>未弄明白的问题</strong>:</p>
<p>（具体的在一段时间内同一ip的人不能对同一篇文章多次点赞）</p>
<p>RedisUtil , RequestContext,Aop</p>
<h2 id="93-修复-在不刷新的情况下在同一电子书页面内点击不同的文档页面来回跳转时阅读数不能实时更新的bug"><a class="markdownIt-Anchor" href="#93-修复-在不刷新的情况下在同一电子书页面内点击不同的文档页面来回跳转时阅读数不能实时更新的bug"></a> 9.3 修复 在不刷新的情况下在同一电子书页面内点击不同的文档，页面来回跳转时，阅读数不能实时更新的bug。</h2>
<h2 id="94-自定义sql更新ebookinfor"><a class="markdownIt-Anchor" href="#94-自定义sql更新ebookinfor"></a> 9.4 自定义sql更新ebookInfor</h2>
<h2 id="95-springboot定时任务"><a class="markdownIt-Anchor" href="#95-springboot定时任务"></a> 9.5 SpringBoot定时任务</h2>
<h2 id="96websocketmap修饰符问题"><a class="markdownIt-Anchor" href="#96websocketmap修饰符问题"></a> 9.6WebSocket,map修饰符问题</h2>
<h2 id="97-异步化中注解冲突问题"><a class="markdownIt-Anchor" href="#97-异步化中注解冲突问题"></a> 9.7 异步化中注解冲突问题</h2>
<h2 id="98-事务注解"><a class="markdownIt-Anchor" href="#98-事务注解"></a> 9.8 事务注解</h2>
<h1 id="10-user管理"><a class="markdownIt-Anchor" href="#10-user管理"></a> 10、User管理</h1>
<h2 id="100-生成user-的问题"><a class="markdownIt-Anchor" href="#100-生成user-的问题"></a> 10.0 生成User 的问题</h2>
<ul>
<li>Mybatis中generator在生成User时，Mapper类中没有 <strong>update</strong>方法</li>
<li>不可知的原因使得 表明 为 <strong>user</strong>的表生成代码文件不对</li>
<li>经过修改表名得以解决问题</li>
</ul>
<h2 id="101-业务异常统一处理类"><a class="markdownIt-Anchor" href="#101-业务异常统一处理类"></a> 10.1 业务异常统一处理类</h2>
<ul>
<li>
<p><strong>BusinessExceptionCode</strong></p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-keyword">package</span> com.jyx.exception;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> BusinessExceptionCode &#123;
    USER_LOGIN_NAME_EXIST(<span class="hljs-string">"登录名已存在"</span>),
    LOGIN_USER_ERROR(<span class="hljs-string">"用户名不存在或密码错误"</span>),
    VOTE_REPEAT(<span class="hljs-string">"您已点赞过"</span>),
    ;
    ;

    <span class="hljs-keyword">private</span> String desc;

    BusinessExceptionCode() &#123;
    &#125;

    BusinessExceptionCode(String desc) &#123;
        <span class="hljs-keyword">this</span>.desc = desc;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getDesc</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> desc;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDesc</span><span class="hljs-params">(String desc)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.desc = desc;
    &#125;
&#125;
&lt;!--code￼<span class="hljs-number">35</span>--&gt;

</code></pre>
</li>
<li>
<hr>
<p><strong>ControllerExceptionHandler</strong>中新增加</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-comment">/**
 * 业务异常统一处理
 *
 */</span>
<span class="hljs-meta">@ExceptionHandler</span>(value = BusinessException<span class="hljs-class">.<span class="hljs-keyword">class</span>)
@<span class="hljs-title">ResponseBody</span>
<span class="hljs-title">public</span> <span class="hljs-title">Result</span>&lt;<span class="hljs-title">Object</span>&gt; <span class="hljs-title">validExceptionHandler</span>(<span class="hljs-title">BusinessException</span> <span class="hljs-title">e</span>) </span>&#123;
    LOG.warn(<span class="hljs-string">"业务异常：&#123;&#125;"</span>, e.getCode().getDesc());
    <span class="hljs-keyword">return</span> Result.error(Code.BUSINESS_EXCEPTION.getCode(),BusinessExceptionCode.USER_LOGIN_NAME_EXIST.getDesc());
&#125;
&lt;!--code￼<span class="hljs-number">36</span>--&gt;

</code></pre>
</li>
</ul>
<h2 id="103-不可修改用户名前端"><a class="markdownIt-Anchor" href="#103-不可修改用户名前端"></a> 10.3 不可修改用户名（前端）</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;a-input v-model:value=&quot;user.name&quot; :disabled=&quot;user.id!==undefined&quot; /&gt;<br></code></pre></td></tr></table></figure>
<p>**特别注意:      <code>:</code>   **千万不能  <strong>少！！！！</strong></p>
<h2 id="104-copyutils-的作用"><a class="markdownIt-Anchor" href="#104-copyutils-的作用"></a> 10.4 CopyUtils 的作用！！</h2>
<p><strong>重置密码需求分析:</strong></p>
<ul>
<li>前景：前端有密码格式校验，所以如果再编辑页面处理重置密码的需求，由于经过加密的密码长度为32位，就不符合了校验规则，导致每次想更改其他字段的时候，都不得不去修改加密过后的密码，并且要想维持原密码，每次还需要去输入原来的密码</li>
<li>如此编辑功能应该与重置密码功能解耦（此处应该是由于密码具有检验规则导致了这两个功能产生了复杂关系）</li>
</ul>
<p><strong>CopyUtils 的作用</strong></p>
<ul>
<li>由于mybatis的自动生成的代码中的方法参数类型基本都以domain中的原生实体类为主，</li>
<li>又因为在Service层中为了可拓展性的提高，Service方法的参数基本都是经过包装过的<strong>XXXReq</strong> 类，</li>
<li>因此不能直接将传到Service方法中的Req类型参数给到Mapper层，</li>
<li>因此就有了 要从<strong>Req类型</strong>转到<strong>原生类型</strong> 并且达到<strong>已有数据拷贝</strong>的需求，即<strong>CopUtils</strong></li>
</ul>
<h2 id="105-user登录页面"><a class="markdownIt-Anchor" href="#105-user登录页面"></a> 10.5 User登录页面</h2>
<h3 id="一-前端"><a class="markdownIt-Anchor" href="#一-前端"></a> 一、前端</h3>
<p><strong>主要思路：</strong></p>
<ol>
<li>
<p>添加登录的<code>&lt;a&gt;&lt;/a&gt;</code>标签，或者按钮，点击则会弹出 <strong>loginModel</strong>(即要去@Click一个函数);</p>
</li>
<li>
<p>loginModel 中应该有: 用户名，密码（要加密），代码：</p>
</li>
<li>
<pre class="highlight"><code class="vue">&lt;a-modal
    title=&quot;登录&quot;
    v-model:visible=&quot;loginModalVisible&quot;
    :confirm-loading=&quot;loginModalLoading&quot;
    @ok=&quot;login&quot;
&gt;
  &lt;a-form :model=&quot;loginUser&quot; :label-col=&quot;&#123; span: 6 &#125;&quot; :wrapper-col=&quot;&#123; span: 18 &#125;&quot;&gt;
    &lt;a-form-item label=&quot;登录名&quot;&gt;
      &lt;a-input v-model:value=&quot;loginUser.name&quot; /&gt;
    &lt;/a-form-item&gt;
    &lt;a-form-item label=&quot;密码&quot;&gt;
      &lt;a-input v-model:value=&quot;loginUser.password&quot; type=&quot;password&quot; /&gt;
    &lt;/a-form-item&gt;
  &lt;/a-form&gt;
&lt;/a-modal&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"><br>4. loginModel 中涉及的变量，<br><br>5. ```typescript<br>   const loginModalVisible = ref(false);<br>   const loginModalLoading = ref(false);<br>   const loginUser = ref(&#123;<br>     name: &#x27;never&#x27;,<br>     password: &#x27;never&#x27;,<br>   &#125;)<br>   //loginUser 为一个响应式变量，会动态监听模态框中的字段值，更新到 loginModel中 form中 的 :model指定的变量 本例中就是 loginUser (:model=&quot;loginUser&quot; )<br></code></pre></td></tr></table></figure>

</code></pre>
</li>
<li>
<p>弹出model的函数：</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-keyword">const</span> showLoginModal = () =&gt; &#123;
  loginModalVisible.value =<span class="hljs-keyword">true</span>;
&#125;
&lt;!--code￼<span class="hljs-number">39</span>--&gt;

</code></pre>
</li>
</ol>
<h3 id="二-后端"><a class="markdownIt-Anchor" href="#二-后端"></a> 二、后端</h3>
<p><strong>就是增加一个接口，一个req，一个resp（这个resp在后面用于取到该用户的一些信息）</strong></p>
<p><strong>login接口</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> UserLoginResp <span class="hljs-title function_">login</span><span class="hljs-params">(UserLoginReq req)</span> &#123;<br>    <span class="hljs-type">User</span> <span class="hljs-variable">userDb</span> <span class="hljs-operator">=</span> selectUserByName(req.getName());<br>    <span class="hljs-keyword">if</span> (ObjectUtils.isEmpty(userDb)) &#123;<br>        <span class="hljs-comment">//用户名不存在</span><br>        LOG.info(<span class="hljs-string">&quot;用户名不存在:&#123;&#125;&quot;</span>, req.getName());<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessException</span>(BusinessExceptionCode.LOGIN_USER_ERROR);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (!userDb.getPassword().equals(req.getPassword())) &#123;<br>        <span class="hljs-comment">//密码错误</span><br>        LOG.info(<span class="hljs-string">&quot;用户:&#123;&#125; 密码错误&quot;</span>, req.getName());<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessException</span>(BusinessExceptionCode.LOGIN_USER_ERROR);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> CopyUtil.copy(userDb, UserLoginResp.class);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>此处的注意点:</p>
<ul>
<li>
<p>当用户发生密码或者用户名错误的时候，Service方法不应该直接返回null</p>
</li>
<li>
<p>而是，因该去自定义一个<strong>BusinessException</strong>异常</p>
</li>
<li></li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-keyword">package</span> com.jyx.exception;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BusinessException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RuntimeException</span> </span>&#123;

    BusinessExceptionCode code;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BusinessException</span><span class="hljs-params">(String message, BusinessExceptionCode code)</span> </span>&#123;
        <span class="hljs-keyword">super</span>(message);
        <span class="hljs-keyword">this</span>.code = code;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BusinessException</span><span class="hljs-params">()</span> </span>&#123;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BusinessException</span><span class="hljs-params">(BusinessExceptionCode code)</span> </span>&#123;
        <span class="hljs-keyword">super</span>(code.getDesc());
        <span class="hljs-keyword">this</span>.code = code;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> BusinessExceptionCode <span class="hljs-title">getCode</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> code;
    &#125;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCode</span><span class="hljs-params">(BusinessExceptionCode code)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.code = code;
    &#125;

    <span class="hljs-comment">/**
     * 不写入堆栈信息，提高性能
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Throwable <span class="hljs-title">fillInStackTrace</span><span class="hljs-params">()</span> </span>&#123;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    &#125;
&#125;
&lt;!--code￼<span class="hljs-number">41</span>--&gt;

</code></pre>
</li>
<li>
<p><strong>ControllerExceptionHandler</strong></p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="hljs-comment">/**
 * 业务异常统一处理
 *
 */</span>
<span class="hljs-meta">@ExceptionHandler</span>(value = BusinessException<span class="hljs-class">.<span class="hljs-keyword">class</span>)
@<span class="hljs-title">ResponseBody</span>
<span class="hljs-title">public</span> <span class="hljs-title">Result</span>&lt;<span class="hljs-title">Object</span>&gt; <span class="hljs-title">validExceptionHandler</span>(<span class="hljs-title">BusinessException</span> <span class="hljs-title">e</span>) </span>&#123;
    LOG.warn(<span class="hljs-string">"业务异常：&#123;&#125;"</span>, e.getCode().getDesc());
    <span class="hljs-keyword">return</span> Result.error(Code.BUSINESS_EXCEPTION.getCode(),e.getCode().getDesc());
&#125;
&lt;!--code￼<span class="hljs-number">42</span>--&gt;

</code></pre>
</li>
<li>
<p>定义一个全局的常量<code>USER</code>,它作为sessionStore中的一个储存user信息的K-V对，其Key为 USER，通过sessionStore.get()方法可以获取USER对应的Value，并将其赋值给state中<code>user</code>对应的value,(此处之所以要经过这样的一次中转，应该是为了便于维护，其他位置对store的操作更方便些，所以实质上user的信息因该是储存在sessionStore中，应该和Session道理类似)</p>
</li>
<li>
<p>mutations中定义的是对state的一些操作方法，</p>
</li>
<li>
<p>此处参数，state是必要的，user为Source，target为state中的user的value和sessionStore中的USER的value。</p>
</li>
<li>
<p>应该注意的是，state是一个json类型对象，其中定义一个user,其值从SessionStore.get方法动态获取，有两种情况：</p>
</li>
<li>
<p>1，最开始未登录的时候，sessionStore中USER的value并无值，因为在下面的login方法中才会调用**stor.commit(mehtodName,parameters)**方法去</p>
<p><code>state.user = user;</code><br>
<code>SessionStorage.set(USER,user);</code></p>
<p>所以才有了这一行代码的后半段<code>user:SessionStorage.get(USER)||&#123;&#125;,</code></p>
<p>赋一个空对象，防止null</p>
</li>
<li>
<p>登录后的刷新问题，</p>
</li>
<li>
<p>在登陆后，sessionStore的USER对应的Valu中就存有user的信息，value为一个json对象，在刷新页面后，<strong>USER仍然存在</strong>，这个时候，vue组件重新加载，以下代码</p>
</li>
<li>
<pre class="highlight"><code class="typescript">state: &#123;
    user:SessionStorage.get(USER)||&#123;&#125;,
  &#125;,
&lt;!--code￼<span class="hljs-number">43</span>--&gt;

</code></pre>
</li>
<li>
<p>computed 的方式 声明 user是一个响应式变量，user会从computed中的函数的返回值动态的更新数据，也就是说，use的值的变化取决于，函数值的变化，结果的功能上与ref()有点像，（个人理解就相当于是store.state.user的一个&quot;影分身&quot;）并且该变量最后要return出去，以便给到页面使用</p>
</li>
<li>
<p>登录的时候要</p>
</li>
<li>
<pre class="highlight"><code class="typescript">axios.post(<span class="hljs-string">'user/login'</span>,loginUser.value).then(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>&#123;
  loginModalLoading.value = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">const</span> data = response.data;
  <span class="hljs-keyword">if</span>(data.code===<span class="hljs-number">1</span>)&#123;
    message.success(<span class="hljs-string">"登录成功"</span>);
    <span class="hljs-comment">//登录成功后将data里面的user信息存到 vuex 的 user 里面</span>
    store.commit(<span class="hljs-string">"setUser"</span>,data.data);
    loginModalVisible.value = <span class="hljs-literal">false</span>;
  &#125;<span class="hljs-keyword">else</span> &#123;
   message.error(data.message);
  &#125;
&#125;)
&lt;!--code￼<span class="hljs-number">44</span>--&gt;

</code></pre>
</li>
</ul>
<h1 id="11-项目发布"><a class="markdownIt-Anchor" href="#11-项目发布"></a> 11、项目发布</h1>
<h2 id="00-idea-连接云数据库"><a class="markdownIt-Anchor" href="#00-idea-连接云数据库"></a> 0.0 idea 连接云数据库</h2>
<h2 id="01-idea-连接云服务器"><a class="markdownIt-Anchor" href="#01-idea-连接云服务器"></a> 0.1 idea 连接云服务器</h2>
<h2 id="02-通过idea向服务器上传文件"><a class="markdownIt-Anchor" href="#02-通过idea向服务器上传文件"></a> 0.2 通过idea向服务器上传文件</h2>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/learn/">learn</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2022/06/19/xMLl9ZvGFkr8yhQ.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/05/linux/ssh/" title="ssh"><img class="cover" src="https://s2.loli.net/2022/06/19/AxBL4uifoUSCaEw.jpg" onerror="onerror=null;src='/img/jyx.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">ssh</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/15/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_learn/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0_10_(%E5%B5%8C%E5%85%A5%E6%9D%A1%E4%BB%B6)/" title="正则表达式_语法学习_10_(嵌入条件)"><img class="cover" src="https://s2.loli.net/2022/06/19/v53gheOiZWSrUYc.jpg" onerror="onerror=null;src='/img/jyx.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">正则表达式_语法学习_10_(嵌入条件)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/05/10/java-learn/classloader(1)/" title="classloader(1)"><img class="cover" src="https://s2.loli.net/2022/06/19/eNks3wKY7pluHdv.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-10</div><div class="title">classloader(1)</div></div></a></div><div><a href="/2024/04/22/java-learn/java-modularity/" title="java-modularity"><img class="cover" src="https://s2.loli.net/2022/06/19/xMLl9ZvGFkr8yhQ.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-22</div><div class="title">java-modularity</div></div></a></div><div><a href="/2022/04/15/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_learn/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0_10_(%E5%B5%8C%E5%85%A5%E6%9D%A1%E4%BB%B6)/" title="正则表达式_语法学习_10_(嵌入条件)"><img class="cover" src="https://s2.loli.net/2022/06/19/v53gheOiZWSrUYc.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-16</div><div class="title">正则表达式_语法学习_10_(嵌入条件)</div></div></a></div><div><a href="/2022/04/09/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_learn/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0_2%E8%87%B34/" title="正则表达式_语法学习__2至4"><img class="cover" src="https://s2.loli.net/2022/06/19/mLwPoadsRMvT9eQ.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-10</div><div class="title">正则表达式_语法学习__2至4</div></div></a></div><div><a href="/2022/04/11/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_learn/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0_5-/" title="正则表达式_语法学习_5"><img class="cover" src="https://s2.loli.net/2022/06/19/iO3N8W6V41DZE7a.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-12</div><div class="title">正则表达式_语法学习_5</div></div></a></div><div><a href="/2022/04/12/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_learn/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0_6%EF%BC%88%E4%BD%8D%E7%BD%AE%E5%8C%B9%E9%85%8D%EF%BC%89/" title="正则表达式_语法学习_6（位置匹配）"><img class="cover" src="https://s2.loli.net/2022/06/19/wTJP7CbR2gt9Eyu.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-13</div><div class="title">正则表达式_语法学习_6（位置匹配）</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/self/liyazzi.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">liyazzi</div><div class="author-info__description">别有根芽，不是人间富贵花。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/jyxzwd"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#0-git-%E4%BD%BF%E7%94%A8%E4%B8%AD%E7%9A%84%E5%9D%91%E7%82%B9"><span class="toc-number">1.</span> <span class="toc-text"> 0、Git 使用中的&quot;坑点&quot;</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#00%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A8%E9%80%81%E6%8A%A5%E9%94%99"><span class="toc-number">1.1.</span> <span class="toc-text"> 0.0第一次推送报错</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E4%B8%80%E4%BA%9B%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text"> 1、一些文件配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10"><span class="toc-number">2.1.</span> <span class="toc-text"> 1.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-loback-springxml-%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">2.2.</span> <span class="toc-text"> 1.1 loback-spring.xml 文件配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-springboot%E6%95%B4%E5%90%88mybatis"><span class="toc-number">3.</span> <span class="toc-text"> 3、SpringBoot整合Mybatis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#30%E5%AF%BC%E5%85%A5%E4%BE%9D%E8%B5%96%E4%B8%8E%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text"> 3.0导入依赖与配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#31-%E9%85%8D%E7%BD%AEgenerato"><span class="toc-number">3.2.</span> <span class="toc-text"> 3.1 配置generato</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-springboot-%E5%86%99%E6%8E%A5%E5%8F%A3"><span class="toc-number">4.</span> <span class="toc-text"> 4、SpringBoot 写接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#40-%E8%AE%BE%E7%BD%AE%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E%E7%B1%BB-result"><span class="toc-number">4.1.</span> <span class="toc-text"> 4.0 设置统一返回类 (Result)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-%E7%BB%9F%E4%B8%80%E5%93%8D%E5%BA%94%E7%B1%BB"><span class="toc-number">4.2.</span> <span class="toc-text"> 4.3 统一响应类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#44-copy%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">4.3.</span> <span class="toc-text"> 4.4 copy工具类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#51-%E9%9B%86%E6%88%90antdesign-vue"><span class="toc-number">4.4.</span> <span class="toc-text"> 5.1 集成Ant—Design-vue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#52%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6"><span class="toc-number">4.5.</span> <span class="toc-text"> 5.2自定义组件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%95%B4%E5%90%88"><span class="toc-number">5.</span> <span class="toc-text"> 6、前后端交互整合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#60-%E9%9B%86%E6%88%90http%E5%BA%93axios"><span class="toc-number">5.1.</span> <span class="toc-text"> 6.0 集成HTTP库Axios</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#61%E7%94%B5%E5%AD%90%E4%B9%A6%E5%89%8D%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3"><span class="toc-number">5.2.</span> <span class="toc-text"> 6.1电子书前后端接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3"><span class="toc-number">5.2.1.</span> <span class="toc-text"> 跨域问题的解决</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#64-%E6%9F%A5%E8%AF%A2%E7%94%B5%E5%AD%90%E4%B9%A6%E5%B9%B6%E4%B8%94%E5%9C%A8%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA"><span class="toc-number">5.3.</span> <span class="toc-text"> 6.4 查询电子书并且在页面展示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E4%BD%BF%E7%94%A8ref%E8%BF%94%E5%9B%9E%E5%8D%95%E4%B8%AA%E7%9B%B8%E5%BA%94%E5%8F%98%E9%87%8F%E6%95%B0%E6%8D%AE"><span class="toc-number">5.3.1.</span> <span class="toc-text"> 一、使用ref返回单个相应变量数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E4%BD%BF%E7%94%A8reactive"><span class="toc-number">5.3.2.</span> <span class="toc-text"> 二、使用reactive()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E4%BB%A3%E7%A0%81"><span class="toc-number">5.3.3.</span> <span class="toc-text"> 三、代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#65-%E5%AF%BC%E5%85%A5%E5%9B%BE%E6%A0%87%E5%BA%93"><span class="toc-number">5.4.</span> <span class="toc-text"> 6.5 导入图标库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#68-vue_cle%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">5.5.</span> <span class="toc-text"> 6.8 Vue_Cle多环境配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#69-axios%E6%8B%A6%E6%88%AA%E5%99%A8%E6%89%93%E5%8D%B0%E6%97%A5%E5%BF%97"><span class="toc-number">5.6.</span> <span class="toc-text"> 6.9 axios拦截器打印日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#610-servlet-%E7%9A%84filter-%E6%A3%80%E6%B5%8B%E6%8E%A5%E5%8F%A3%E8%80%97%E6%97%B6"><span class="toc-number">5.7.</span> <span class="toc-text"> 6.10 Servlet 的Filter 检测接口耗时</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#71-%E4%BD%BF%E7%94%A8spring-%E7%89%B9%E6%9C%89%E7%9A%84-%E6%8B%A6%E6%88%AA%E5%99%A8-interceptor-%E7%AC%AC%E4%BA%8C%E5%BC%80%E5%A7%8B"><span class="toc-number">5.8.</span> <span class="toc-text"> 7.1 使用Spring 特有的 拦截器 interceptor  第二开始</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#72-aop"><span class="toc-number">5.9.</span> <span class="toc-text"> 7.2 AOP  。。。。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#73-%E6%89%93%E5%8D%B0sql%E6%97%A5%E5%BF%97"><span class="toc-number">5.10.</span> <span class="toc-text"> 7.3 打印sql日志</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-%E7%AE%A1%E7%90%86%E5%91%98%E9%A1%B5%E9%9D%A2"><span class="toc-number">6.</span> <span class="toc-text"> 8、管理员页面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#80-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">6.1.</span> <span class="toc-text"> 8.0 初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#81-%E6%99%AE%E9%80%9A%E6%97%A5%E5%BF%97"><span class="toc-number">6.2.</span> <span class="toc-text"> 8.1 普通日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#82pagehelper%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">6.3.</span> <span class="toc-text"> 8.2PageHelper的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BC%96%E8%BE%91%E6%8C%89%E9%92%AE"><span class="toc-number">6.3.1.</span> <span class="toc-text"> 2、编辑按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%82%B9%E5%87%BB%E7%BC%96%E8%BE%91%E6%8C%89%E9%92%AE%E5%87%BA%E7%8E%B0%E7%9A%84%E8%A1%A8%E5%8D%95"><span class="toc-number">6.3.2.</span> <span class="toc-text"> 3、点击编辑按钮出现的表单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%BB%99%E4%BA%88%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E7%9A%84"><span class="toc-number">6.3.3.</span> <span class="toc-text"> 4、给予表单数据的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-edit%E4%B8%BB%E6%96%B9%E6%B3%95"><span class="toc-number">6.3.4.</span> <span class="toc-text"> 5 edit主方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%82%B9%E5%87%BBok%E8%AF%B7%E6%B1%82%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E5%88%B7%E6%96%B0%E5%88%97%E8%A1%A8"><span class="toc-number">6.3.5.</span> <span class="toc-text"> 6、点击ok，请求更新数据，刷新列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BF%9D%E5%AD%98%E6%93%8D%E4%BD%9C%E7%9A%84%E5%90%8E%E7%AB%AF"><span class="toc-number">6.3.6.</span> <span class="toc-text"> 7、保存操作的后端</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#84-%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95"><span class="toc-number">6.4.</span> <span class="toc-text"> 8.4 雪花算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#85-%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD"><span class="toc-number">6.5.</span> <span class="toc-text"> 8.5 删除功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#86-%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD"><span class="toc-number">6.6.</span> <span class="toc-text"> 8.6 查询功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#87-axios%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%8F%AF%E8%83%BD%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">6.7.</span> <span class="toc-text"> 8.7 axios异步加载可能出现的问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86"><span class="toc-number">7.</span> <span class="toc-text"> 9、文档管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#90-vue%E4%B8%AD%E7%9A%84route-link%E6%A0%87%E7%AD%BE%E4%B8%ADurl%E8%AE%BE%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-number">7.1.</span> <span class="toc-text"> 9.0 vue中的route-link标签中url设置参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#91-%E6%96%87%E6%A1%A3%E5%86%85%E5%AE%B9%E7%9A%84%E4%BF%9D%E5%AD%98saveoradd-%E7%9A%84%E9%80%BB%E8%BE%91%E4%BB%A5%E5%8F%8Acopyutils%E7%9A%84%E6%B3%A8%E6%84%8F%E9%97%AE%E9%A2%98%E4%B8%8D%E8%83%BD%E6%9C%89%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">7.2.</span> <span class="toc-text"> 9.1 文档内容的保存(saveOrAdd 的逻辑，以及CopyUtils的注意问题，不能有构造器)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-saveoradd-%E7%9A%84%E9%80%BB%E8%BE%91"><span class="toc-number">7.2.1.</span> <span class="toc-text"> 一、SaveOrAdd 的逻辑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-copyutils%E7%9A%84%E6%B3%A8%E6%84%8F%E9%97%AE%E9%A2%98"><span class="toc-number">7.2.2.</span> <span class="toc-text"> 二、CopyUtils的注意问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#92-%E9%98%85%E8%AF%BB%E6%95%B0%E5%8A%A0%E4%B8%80%E7%82%B9%E8%B5%9E"><span class="toc-number">7.3.</span> <span class="toc-text"> 9.2 阅读数加一&amp;点赞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#93-%E4%BF%AE%E5%A4%8D-%E5%9C%A8%E4%B8%8D%E5%88%B7%E6%96%B0%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E5%9C%A8%E5%90%8C%E4%B8%80%E7%94%B5%E5%AD%90%E4%B9%A6%E9%A1%B5%E9%9D%A2%E5%86%85%E7%82%B9%E5%87%BB%E4%B8%8D%E5%90%8C%E7%9A%84%E6%96%87%E6%A1%A3%E9%A1%B5%E9%9D%A2%E6%9D%A5%E5%9B%9E%E8%B7%B3%E8%BD%AC%E6%97%B6%E9%98%85%E8%AF%BB%E6%95%B0%E4%B8%8D%E8%83%BD%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0%E7%9A%84bug"><span class="toc-number">7.4.</span> <span class="toc-text"> 9.3 修复 在不刷新的情况下在同一电子书页面内点击不同的文档，页面来回跳转时，阅读数不能实时更新的bug。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#94-%E8%87%AA%E5%AE%9A%E4%B9%89sql%E6%9B%B4%E6%96%B0ebookinfor"><span class="toc-number">7.5.</span> <span class="toc-text"> 9.4 自定义sql更新ebookInfor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#95-springboot%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-number">7.6.</span> <span class="toc-text"> 9.5 SpringBoot定时任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#96websocketmap%E4%BF%AE%E9%A5%B0%E7%AC%A6%E9%97%AE%E9%A2%98"><span class="toc-number">7.7.</span> <span class="toc-text"> 9.6WebSocket,map修饰符问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#97-%E5%BC%82%E6%AD%A5%E5%8C%96%E4%B8%AD%E6%B3%A8%E8%A7%A3%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98"><span class="toc-number">7.8.</span> <span class="toc-text"> 9.7 异步化中注解冲突问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#98-%E4%BA%8B%E5%8A%A1%E6%B3%A8%E8%A7%A3"><span class="toc-number">7.9.</span> <span class="toc-text"> 9.8 事务注解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-user%E7%AE%A1%E7%90%86"><span class="toc-number">8.</span> <span class="toc-text"> 10、User管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#100-%E7%94%9F%E6%88%90user-%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">8.1.</span> <span class="toc-text"> 10.0 生成User 的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#101-%E4%B8%9A%E5%8A%A1%E5%BC%82%E5%B8%B8%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86%E7%B1%BB"><span class="toc-number">8.2.</span> <span class="toc-text"> 10.1 业务异常统一处理类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#103-%E4%B8%8D%E5%8F%AF%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%90%8D%E5%89%8D%E7%AB%AF"><span class="toc-number">8.3.</span> <span class="toc-text"> 10.3 不可修改用户名（前端）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#104-copyutils-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">8.4.</span> <span class="toc-text"> 10.4 CopyUtils 的作用！！</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#105-user%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-number">8.5.</span> <span class="toc-text"> 10.5 User登录页面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E5%89%8D%E7%AB%AF"><span class="toc-number">8.5.1.</span> <span class="toc-text"> 一、前端</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E5%90%8E%E7%AB%AF"><span class="toc-number">8.5.2.</span> <span class="toc-text"> 二、后端</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-%E9%A1%B9%E7%9B%AE%E5%8F%91%E5%B8%83"><span class="toc-number">9.</span> <span class="toc-text"> 11、项目发布</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#00-idea-%E8%BF%9E%E6%8E%A5%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">9.1.</span> <span class="toc-text"> 0.0 idea 连接云数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#01-idea-%E8%BF%9E%E6%8E%A5%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">9.2.</span> <span class="toc-text"> 0.1 idea 连接云服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02-%E9%80%9A%E8%BF%87idea%E5%90%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="toc-number">9.3.</span> <span class="toc-text"> 0.2 通过idea向服务器上传文件</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/06/redis/%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E4%B8%8E%E8%99%9A%E6%8B%9F%E8%8A%82%E7%82%B9/" title="一致性哈希与虚拟节点"><img src="https://s2.loli.net/2022/06/19/t2cSFinrlPIbDGN.jpg" onerror="this.onerror=null;this.src='/img/jyx.jpg'" alt="一致性哈希与虚拟节点"/></a><div class="content"><a class="title" href="/2025/01/06/redis/%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E4%B8%8E%E8%99%9A%E6%8B%9F%E8%8A%82%E7%82%B9/" title="一致性哈希与虚拟节点">一致性哈希与虚拟节点</a><time datetime="2025-01-06T09:18:54.000Z" title="发表于 2025-01-06 17:18:54">2025-01-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/05/redis/MurmurHash2%E7%AE%97%E6%B3%95%E7%AE%80%E4%BB%8B/" title="MurmurHash2算法简介"><img src="https://s2.loli.net/2022/06/19/t2cSFinrlPIbDGN.jpg" onerror="this.onerror=null;this.src='/img/jyx.jpg'" alt="MurmurHash2算法简介"/></a><div class="content"><a class="title" href="/2025/01/05/redis/MurmurHash2%E7%AE%97%E6%B3%95%E7%AE%80%E4%BB%8B/" title="MurmurHash2算法简介">MurmurHash2算法简介</a><time datetime="2025-01-05T14:27:52.000Z" title="发表于 2025-01-05 22:27:52">2025-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/04/redis/Redis%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88%E4%B8%8A%EF%BC%89/" title="Reids基础数据结构（上）"><img src="https://s2.loli.net/2022/06/19/9Bf4AVzSw8Wk63N.jpg" onerror="this.onerror=null;this.src='/img/jyx.jpg'" alt="Reids基础数据结构（上）"/></a><div class="content"><a class="title" href="/2025/01/04/redis/Redis%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88%E4%B8%8A%EF%BC%89/" title="Reids基础数据结构（上）">Reids基础数据结构（上）</a><time datetime="2025-01-04T13:25:40.000Z" title="发表于 2025-01-04 21:25:40">2025-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/02/tools/WSL%20%E5%AE%89%E8%A3%85%E5%8F%8A%E5%85%B6%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/" title="WSL 安装及其相关配置"><img src="https://s2.loli.net/2022/06/19/t2cSFinrlPIbDGN.jpg" onerror="this.onerror=null;this.src='/img/jyx.jpg'" alt="WSL 安装及其相关配置"/></a><div class="content"><a class="title" href="/2025/01/02/tools/WSL%20%E5%AE%89%E8%A3%85%E5%8F%8A%E5%85%B6%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/" title="WSL 安装及其相关配置">WSL 安装及其相关配置</a><time datetime="2025-01-02T12:43:54.000Z" title="发表于 2025-01-02 20:43:54">2025-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/10/java-learn/classloader(1)/" title="classloader(1)"><img src="https://s2.loli.net/2022/06/19/eNks3wKY7pluHdv.jpg" onerror="this.onerror=null;this.src='/img/jyx.jpg'" alt="classloader(1)"/></a><div class="content"><a class="title" href="/2024/05/10/java-learn/classloader(1)/" title="classloader(1)">classloader(1)</a><time datetime="2024-05-10T02:27:52.000Z" title="发表于 2024-05-10 10:27:52">2024-05-10</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://s2.loli.net/2022/06/19/xMLl9ZvGFkr8yhQ.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By liyazzi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a><br/>
<a href="https://beian.miit.gov.cn/"  style="color:#f72b07" target="_blank">鄂ICP备2022010206号</a></div><div class="footer_custom_text">在那以前，要多想。</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://jyx-twikoo.netlify.app/.netlify/functions/twikoo',
      region: '',
      placeholder: '昵称栏输入QQ号会自动获取并补全 QQ昵称、QQ头像和QQ邮箱哦，试一试吧！',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://jyx-twikoo.netlify.app/.netlify/functions/twikoo',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.textContent = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    }
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><canvas id="universe"></canvas><script src="/js/universe.js"></script><script src="/js/music.js"></script><script src="/js/twikoomy.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>